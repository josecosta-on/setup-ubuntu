#!/bin/bash

cat <<EOF > ./resolv.conf.temp
# Generated by NetworkManager
nameserver 8.8.8.8
nameserver 8.8.8.4
# NOTE: the libc resolver may not support more than 3 nameservers.
# The nameservers listed below may not be recognized.

EOF
sudo mv ./resolv.conf.temp  /etc/resolv.conf

sudo nmcli networking off
sudo nmcli networking on